{% include base_path %}

{% if post.header.teaser %}
  {% capture teaser %}{{ post.header.teaser }}{% endcapture %}
{% else %}
  {% assign teaser = site.teaser %}
{% endif %}

{% if post.id %}
  {% assign title = post.title | markdownify | remove: "<p>" | remove: "</p>" %}
{% else %}
  {% assign title = post.title %}
{% endif %}

<div class="{{ include.type | default: "list" }}__item talk-item">
  <article class="archive__item" itemscope itemtype="http://schema.org/CreativeWork">
    <div class="talk-content">
      <!-- 标题 + PDF链接 -->
      <div class="talk-header">
        <span class="talk-bullet">·</span>
        <span class="talk-title">
          {{ title }}
          {% if post.pdf %}
            <a href="{{ post.pdf | relative_url }}" class="pdf-link">
              <em>(pdf{% if post.file_size %}, {{ post.file_size }}{% endif %})</em>
            </a>
          {% elsif post.ppt %}
            <a href="{{ post.ppt | relative_url }}" class="ppt-link">
              <em>(ppt{% if post.file_size %}, {{ post.file_size }}{% endif %})</em>
            </a>
          {% endif %}
        </span>
      </div>

      <!-- 会议信息 -->
      <div class="talk-meta">
        {% if post.venue %}
          {{ post.venue }}{% if post.location %}, {{ post.location }}{% endif %}
        {% endif %}
        {% if post.date %}
          {{ post.date | date: "%Y" }}
        {% endif %}
      </div>
    </div>
  </article>
</div>
